<!DOCTYPE html>
<html>

<head>
  <title data-translate="fileListTitle">Lista de Arquivos</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 600px;
      margin: 20px auto;
      background-color: #fff;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    h1 {
      text-align: center;
      color: #333;
    }

    ul {
      list-style-type: none;
      padding: 0;
    }

    li {
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    a {
      color: #333;
      text-decoration: none;
    }

    .download-button {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 8px 16px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 14px;
      cursor: pointer;
      border-radius: 4px;
      transition: background-color 0.3s ease;
    }

    .download-button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }

    .timer {
      background-color: #a90909;
      color: white;
      border: none;
      padding: 8px 16px;
      text-align: center;
      text-decoration: none;
      font-size: 14px;
      cursor: pointer;
      border-radius: 4px;
      transition: background-color 0.3s ease;
      display: none;
      cursor: not-allowed;
    }
  </style>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var buttons = document.getElementsByClassName("download-button");
      var languageSelector = document.getElementById("language-selector");

      var translations = {
        en: {
          fileListTitle: "File List",
          downloadButton: "Download",
          languageselect: "Language:"
        },
        pt: {
          fileListTitle: "Lista de Arquivos",
          downloadButton: "Baixar",
          languageselect: "Idioma:"
        },
        es: {
          fileListTitle: "Lista de Archivos",
          downloadButton: "Descargar",
          languageselect: "Idioma:"
        }
      };

      function getBrowserLanguage() {
        var userLanguage = navigator.language || navigator.userLanguage;
        if (userLanguage.length > 2) {
          userLanguage = userLanguage.substring(0, 2);
        }
        return userLanguage.toLowerCase();
      }

      var userLanguage = getBrowserLanguage();
      if (!translations.hasOwnProperty(userLanguage)) {
        userLanguage = "pt";
      }

      function updateTranslations() {
        var translationElements = document.querySelectorAll("[data-translate]");
        for (var i = 0; i < translationElements.length; i++) {
          var element = translationElements[i];
          var translationKey = element.dataset.translate;
          element.textContent = translations[userLanguage][translationKey];
        }
      }

      updateTranslations();

      languageSelector.addEventListener("change", function () {
        userLanguage = languageSelector.value;
        updateTranslations();
      });

      function startDownload(button) {
        button.disabled = true;
        var timerButton = button.nextElementSibling;
        var count = parseInt(button.dataset.seconds);

        var intervalId = setInterval(function () {
          button.style.display = "none";
          timerButton.textContent = count + "s";
          count--;

          if (count < 0) {
            clearInterval(intervalId);
            button.disabled = true;
            timerButton.textContent = "";
            button.style.display = "inline-block";
          }
        }, 1000);

        setTimeout(function () {
          downloadZip(button.dataset.filename);
          button.disabled = true;
          timerButton.style.display = "none";
        }, count * 1000);
      }

      function downloadZip(filename) {
        var link = document.createElement("a");
        link.href = filename;
        link.download = filename;
        link.click();
      }

      for (var i = 0; i < buttons.length; i++) {
        buttons[i].addEventListener("click", function () {
          var timerButton = this.nextElementSibling;
          timerButton.style.display = "inline-block";
          startDownload(this);
        });
      }
    });
  </script>

</head>

<body>
  <div class="container">
    <h1 data-translate="fileListTitle">File List</h1>

    <label for="language-selector" data-translate="languageselect">Language:</label>
    <select id="language-selector">
      <option value="">Selecione um Idioma</option>
      <option value="en">English</option>
      <option value="pt">Português</option>
      <option value="es">Español</option>
    </select>

    <ul id="file-list">
      <li>
        <a href="#">QUICKAI-CMS-3.3.1.zip</a>
        <div>
          <button class="download-button" data-filename="QUICKAI-CMS-3.3.1.zip" data-seconds="25"
            data-translate="downloadButton">Download</button>
          <button class="timer"></button>
        </div>
      </li>
      <li>
        <a href="#">QUICKAI-CMS-3.3.2.zip</a>
        <div>
          <button class="download-button" data-filename="QUICKAI-CMS-3.3.2.zip" data-seconds="25"
            data-translate="downloadButton">Download</button>
          <button class="timer"></button>
        </div>
      </li>
      <li>
        <a href="#">QUICKAI-CMS-3.4.0.zip</a>
        <div>
          <button class="download-button" data-filename="QUICKAI-CMS-3.4.0.zip" data-seconds="25"
            data-translate="downloadButton">Download</button>
          <button class="timer"></button>
        </div>
      </li>
      <li>
        <a href="#">QUICKAI-CMS-3.5.0.zip</a>
        <div>
          <button class="download-button" data-filename="QUICKAI-CMS-3.5.0.zip" data-seconds="25"
            data-translate="downloadButton">Download</button>
          <button class="timer"></button>
        </div>
      </li>
    </ul>
  </div>
</body>

</html>